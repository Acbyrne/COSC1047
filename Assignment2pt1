
//COSC1047 Assignment#2 - part1 : Adam Byrne 

package javaapplication;

import javax.swing.*;

import javaapplication.Main.InvalidStringException;

import java.awt.*;
import java.awt.event.*;
import java.util.InputMismatchException;

public class Assignment2pt1 extends JFrame{
    private JButton addB = new JButton("add");
    private JButton subB = new JButton("subtract");
    private JButton mulB = new JButton("multiply");
    private JButton divB = new JButton("divide");
    private JLabel lable1 = new JLabel("   Input 1:      ");
    private JLabel lable2 = new JLabel("   Input 2:      ");
    private JLabel lable3 = new JLabel("   Output:      ");
    private JTextField input1 = new JTextField("0");
    private JTextField input2 = new JTextField("0");
    private JTextField output = new JTextField("0");
     
    private int num1 = Integer.valueOf(input1.getText());
    private int num2 = Integer.valueOf(input2.getText());
    private int ans = Integer.valueOf(output.getText());
    
    public Assignment2pt1(){
    	JPanel inputPanel = new JPanel();
		inputPanel.setLayout(new GridLayout(3, 1));
		inputPanel.add(input1);
		inputPanel.add(input2);
		inputPanel.add(output);
        add(inputPanel, BorderLayout.CENTER);
        
    	JPanel lablePanel = new JPanel();
		lablePanel.setLayout(new GridLayout(3, 1));
		lablePanel.add(lable1);		
		lablePanel.add(lable2);
		lablePanel.add(lable3);
		add(lablePanel,BorderLayout.WEST);

    	JPanel buttonPanel = new JPanel();
		buttonPanel.setLayout(new GridLayout(1, 4));
        buttonPanel.add(addB);
        buttonPanel.add(subB);
        buttonPanel.add(mulB);
        buttonPanel.add(divB);
        add(buttonPanel, BorderLayout.SOUTH);
        
    	JPanel fillerPanel = new JPanel();
        add(fillerPanel, BorderLayout.EAST);


        
        //Listeners
        addB.addActionListener(new addListener());
        subB.addActionListener(new subListener());
        mulB.addActionListener(new mulListener());
        divB.addActionListener(new divListener());

    }
    public static void main(String[] args) {
    	JFrame frame = new Assignment2pt1();
    	frame.setTitle("Exception Calculator");
    	frame.setLocationRelativeTo(null);
    	frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    	frame.setSize(400, 200);
    	frame.setVisible(true);
    }
 
    //Add
    class addListener implements ActionListener{
        public void actionPerformed(ActionEvent e){
        	num1 = Integer.valueOf(input1.getText());
        	num2 = Integer.valueOf(input2.getText());

        	ans = num1 + num2;
        	output.setText(""+ ans);
        }
  }
    //Sub
    class subListener implements ActionListener{
        public void actionPerformed(ActionEvent e){
        	num1 = Integer.parseInt(input1.getText());
        	num2 = Integer.parseInt(input2.getText());
        	try {
        		int length1 = input1.getDocument().getLength(); 
        		for(int i = 0; i > length1; i ++) {

        			if(Character.isDigit(input1.getText().charAt(i))) {
        				ans = num1 - num2;
        				output.setText(""+ ans);        			
        			}
        			else {
        				output.setText("Input must ban an integer");
        				throw new NumberFormatException("Invalid input: must be an integer");
        			}
        		}
        	}
        	catch (NumberFormatException ex) {	
    			System.out.println("Invalid number: must be an int: " + ex);	
    		}
        }
  }
    //Multiply
    class mulListener implements ActionListener{
        public void actionPerformed(ActionEvent e){
        	num1 = Integer.valueOf(input1.getText());
        	num2 = Integer.valueOf(input2.getText());

        	ans = num1 * num2;
        	output.setText(""+ ans);
        }
  }
    //Divide
    class divListener implements ActionListener{
        public void actionPerformed(ActionEvent e){
        	num1 = Integer.valueOf(input1.getText());
        	num2 = Integer.valueOf(input2.getText());

        	try {
        		if(num2 != 0) {
        			ans = num1 / num2;
        			output.setText(""+ ans);        			
        		}
        		else {
        			output.setText("Cannot divide by 0");
        			throw new ArithmeticException("Invalid operation: cannot divide by 0: " + num1 + " / " + num2);
        		}
        	}
        	catch (ArithmeticException ex) { 
    			System.out.println("Invalid number: cannot divide by 0: " + ex);
    		}
        
        }
  }

    

}
